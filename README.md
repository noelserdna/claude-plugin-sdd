# SDD Plugin for Claude Code

> **[Leer en español](README.es.md)**

A [Claude Code](https://docs.anthropic.com/en/docs/claude-code) plugin that turns requirements into production code through a structured, auditable pipeline. Based on SWEBOK v4. Works with new and existing projects.

**20 skills** &middot; **5 MCP tools** &middot; **8 agents** &middot; **4 hooks** &middot; **Full traceability**

## Installation

```bash
# Install the plugin (inside Claude Code)
/install-plugin github:noelserdna/claude-plugin-sdd
```

## Quick Start

### New project (greenfield)

```
/sdd:setup                       # Initialize pipeline
/sdd:requirements-engineer       # Gather requirements
/sdd:specifications-engineer     # Generate formal specs
/sdd:spec-auditor                # Audit and fix specs
/sdd:test-planner                # Plan test strategy
/sdd:plan-architect              # Design architecture
/sdd:task-generator              # Create atomic tasks
/sdd:task-implementer            # Write code + tests
```

### Existing project (brownfield)

```
/sdd:onboarding                  # Diagnose project → get adoption plan
/sdd:import docs/api.yaml        # Import existing docs (OpenAPI, Jira, etc.)
/sdd:reverse-engineer            # Extract specs from code
/sdd:reconcile                   # Align specs with code
```

### Monitor and maintain

```
/sdd:pipeline-status             # What stage am I at? What's next?
/sdd:dashboard                   # Generate interactive HTML dashboard
/sdd:traceability-check          # Verify full artifact chain
/sdd:req-change --cascade=auto   # Change a requirement → auto-propagate
```

## How It Works

The plugin guides you through a linear pipeline — each step produces artifacts that feed the next:

```
Requirements → Specifications → Audit → Test Plan → Architecture → Tasks → Code
```

Every artifact is traceable end-to-end:

```
REQ → UC → WF → API → BDD → INV → ADR → TASK → COMMIT → CODE → TEST
```

## All 20 Skills

### Pipeline (7 sequential steps)

| Step | Skill | What it does |
|------|-------|-------------|
| 1 | `/sdd:requirements-engineer` | Elicit requirements interactively (EARS syntax) |
| 2 | `/sdd:specifications-engineer` | Generate domain model, use cases, workflows, contracts, NFRs, ADRs |
| 3 | `/sdd:spec-auditor` | Audit specs for defects, then fix them |
| 4 | `/sdd:test-planner` | Generate test plan, matrices, and performance scenarios |
| 5 | `/sdd:plan-architect` | Design architecture (C4), create FASE files |
| 6 | `/sdd:task-generator` | Decompose into atomic, reversible tasks (1 task = 1 commit) |
| 7 | `/sdd:task-implementer` | Write code + tests with TDD, commit with SHA capture |

### Lateral (use anytime)

| Skill | What it does |
|-------|-------------|
| `/sdd:security-auditor` | OWASP/CWE security posture audit |
| `/sdd:req-change` | Manage ADD/MODIFY/DEPRECATE with pipeline cascade (ISO 14764) |

### Onboarding (adopt SDD in existing projects)

| Skill | What it does |
|-------|-------------|
| `/sdd:onboarding` | Diagnose project state (8 scenarios), generate adoption plan |
| `/sdd:reverse-engineer` | Analyze code to generate all SDD artifacts + findings report |
| `/sdd:reconcile` | Detect spec-code drift, classify divergences, reconcile |
| `/sdd:import` | Convert external docs to SDD format (Jira, OpenAPI, Markdown, Notion, CSV, Excel) |

### Utilities

| Skill | What it does |
|-------|-------------|
| `/sdd:pipeline-status` | Current state, staleness detection, next action |
| `/sdd:traceability-check` | Verify full artifact chain, find orphans and broken links |
| `/sdd:dashboard` | Interactive HTML traceability dashboard with 5 views |
| `/sdd:code-index` | Index code for deep traceability (optional GitNexus bridge) |
| `/sdd:sync-notion` | Bidirectional sync with Notion databases |
| `/sdd:session-summary` | Summarize decisions and progress |
| `/sdd:setup` | Initialize `pipeline-state.json` |

## MCP Server

The plugin includes a built-in MCP server that exposes the traceability graph as queryable tools:

| Tool | What it does |
|------|-------------|
| `sdd_query` | Search artifacts by text, ID, type, or domain |
| `sdd_impact` | Blast radius analysis by depth (d1=WILL_BREAK, d2=LIKELY_AFFECTED, d3=MAY_NEED_REVIEW) |
| `sdd_context` | 360° view of any artifact with all connections |
| `sdd_coverage` | Gap analysis grouped by business domain or technical layer |
| `sdd_trace` | Full chain traversal from REQ to TEST with break detection |

The server reads `dashboard/traceability-graph.json` (generated by `/sdd:dashboard`). Run the dashboard first to populate the data.

Additionally, a **context augmentation hook** automatically injects traceability context when you search, read, or edit files — so Claude always knows which requirements a file implements.

## Project Structure

After running the pipeline, your project will contain:

```
your-project/
├── pipeline-state.json          # Pipeline progress tracking
├── requirements/                # EARS-syntax requirements
├── spec/                        # Domain, use cases, workflows, contracts, NFRs, ADRs
├── audits/                      # Spec audit and security audit results
├── test/                        # Test plan, matrices, performance scenarios
├── plan/                        # Architecture (C4), FASE files, implementation plan
├── task/                        # Atomic tasks (1 task = 1 commit)
├── src/                         # Generated source code
├── tests/                       # Generated tests
└── dashboard/                   # Interactive HTML traceability dashboard
    ├── index.html
    ├── guide.html
    └── traceability-graph.json
```

## Automation

The plugin runs guardrails automatically — no manual setup needed.

**Hooks** (run every session):
- **H1**: Injects pipeline status at session start
- **H2**: Blocks downstream skills from editing upstream artifacts
- **H3**: Auto-updates pipeline state when artifacts change
- **H4**: Consistency check at session end

**Agents** (delegated by Claude or invoked by you):
- **A1-A3**: Constitution enforcer, cross-auditor, context keeper
- **A4-A8**: Requirements watcher, spec compliance, test coverage, traceability validator, health monitor

## Key Conventions

| Convention | Description |
|-----------|-------------|
| **EARS syntax** | `WHEN <trigger> THE <system> SHALL <behavior>` |
| **1 task = 1 commit** | Each task produces one commit with `Refs:` and `Task:` trailers |
| **Clarification-first** | Skills never assume — they ask with structured options |
| **Full traceability** | REQ → UC → WF → API → BDD → INV → ADR → TASK → COMMIT → CODE → TEST |

## Standards

SWEBOK v4 &middot; OWASP ASVS v4 &middot; CWE &middot; IEEE 830 &middot; ISO 14764 &middot; C4 Model &middot; Gherkin/BDD

## License

MIT
